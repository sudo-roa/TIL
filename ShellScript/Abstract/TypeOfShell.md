# TypeOfShell

シェルの種類について

## シェルの種類

<br>基本はBourne Shell
- UNIX系OSで使用されているシェルはbashだけでなく複数存在
- 本来のUNIXの標準シェルはshで、shはBourne Shellと呼ばれている
- ヒストリー機能、エイリアス機能、ジョブコントロール機能を備えて、文法をC言語風に変えたものがcsh（Cシェル系）
- cshはshと文法が異なっていて、cshでシェルスクリプトを記述するには大きな問題がある
- 例）標準エラー出力のみのリダイレクトができない、シェル関数が使えない等

| 分類                 | 低機能                       | 高機能                                    |
| ------------------ | ------------------------- | -------------------------------------- |
| Bシェル系<br>標準プロンプトは$ | sh(Bourne shell)<br>(ash) | bash(Bourne-Again Shell)<br>(zsh)(ksh) |
| Cシェル系<br>標準プロンプトは% | csh                       | tcsh                                   |

<br>bash

- cshのヒストリ機能、エイリアス機能、ジョブコントロール機能、タブによるファイル名やコマンド名の補完機能、コマンドライン編集機能を備えた高機能のsh

ash

- なるべく従来のshに近い実装を行ったシェル
- BSD系UNIXを由来とするシェル
- UbuntuなどのDebian系Linuxではashはdashという名前でインストールされていて、/bin/shへのシンボリックリンクになる

ksh

- Solarisに標準で付属している

zsh

- BシェルとCシェルの両方の特徴を取り入れ大幅に機能を拡張したシェル
- プロンプトは%
- シェル変数の展開時の単語分割の仕様などがsh, bashとは異なっている。

BusyBoxのsh

- BusyBoxはls, cp, mv, rmなどのUNIX系環境で頻繁に使われる基本的なコマンドを単一の実行バイナリファイルにまとめた便利なソフトウェア

シェルプロンプト

- Bシェル系の場合
    $ LANG=C; export LANG


- Cシェル系の場合
    % setenv LANG C

自分のログインシェルを調べる

    自分のログインシェルを
    $ echo $SHELL     シェル変数の値を表示
    /bin/bash
    $ printenv SHELL     環境変数SHELLの値を表示
    /bin/bash
    
    fingerコマンドでログインシェルを調べる
    $ finger guest     huestのログインシェルを調べる
    Login: guest
    Directory: /home/guest   Shell; /bin/bash
    No mail.
    No Plan.
    
    bashのバージョンを調べる
    $ echo $BASH_VERSION
    4.3.42(1)-release
    $ bash --version
    GNU bash, version 4.3.42(1)-release (x86_64-redhat-linux-gnu)
    
    tcshのバージョンを調べる
    $ tcsh     tcshの起動
    % echo $version
    tcsh 6.12.00 (Astron) 2002-07-hogehoge
    hogehoge
    % exit
    
    ログインシェルをbashに変更する
    （/etc/shellsのに含まれたものが指定できる）
    詳しくはchshのコマンドのマニュアルを見ましょう。
    % chsh -s /bin/bash     chshコマンドに-sを付けて/bin/bashを指定
    password:

シェルスクリプトとC言語の比較

| シェルスクリプト                        | C言語                                 |
| ------------------------------- | ----------------------------------- |
| インタラクティブ言語                      | コンパイラ言語                             |
| コンパイラは不要<br>（ソースファイルと実行ファイルが同一） | あらかじめコンパイルが必要<br>（ソースファイルと実行ファイルが別） |
| 実行ファイルはテキストファイル                 | 実行ファイルはバイナリファイル                     |
| 異なるOSの上でもそのまま動作する               | OSごとに再コンパイルが必要                      |
| 実行速度は遅い                         | 実行速度が速い                             |
| プログラムの修正が容易                     | プログラムの修正は困難                         |
| エラー処理などが簡略化できる                  | エラー処理などの細かい処理がすべて必要                 |
| 文字列の処理が容易                       | 文字列の処理が面倒                           |
| 既存のコマンドを組み合わせて一定の動作を行うのに適している   | 新たなアプリケーションやOS本体を記述するのに適している        |
